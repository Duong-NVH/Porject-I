(this["webpackJsonpproject-i"]=this["webpackJsonpproject-i"]||[]).push([[0],{145:function(e,t,a){e.exports=a(168)},150:function(e,t,a){},151:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),c=a.n(r),i=(a(150),a(45)),o=a(46),u=a(51),m=a(49),s=(a(151),a(9)),d=a(243),E=a(212),p=a(210),f=a(241),h=a(207),g=a(242),v=a(103),b=a.n(v),C=a(30),y=a(208),k=a(209);function S(){return l.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(h.a,{color:"inherit",href:""},"Duong Dep Trai")," ",(new Date).getFullYear(),".")}var L=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function j(e){var t=L(),a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],h=u[1];return l.a.createElement(k.a,{component:"main",maxWidth:"xs"},l.a.createElement(p.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(d.a,{className:t.avatar},l.a.createElement(b.a,null)),l.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,noValidate:!0},l.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:c,onChange:function(e){i(e.target.value)}}),l.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m,onChange:function(e){h(e.target.value)}}),l.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return e.SignIn(c,m)}},"Sign In"))),l.a.createElement(g.a,{mt:8},l.a.createElement(S,null)))}var O=a(104),q=a.n(O);a(166);var w=q.a.initializeApp({apiKey:"AIzaSyC2CV-Jx-kV4z99iu7GyyPSO58JdgyEsck",authDomain:"project-i-d1f64.firebaseapp.com",databaseURL:"https://project-i-d1f64.firebaseio.com",projectId:"project-i-d1f64",storageBucket:"project-i-d1f64.appspot.com",messagingSenderId:"1027131702150",appId:"1:1027131702150:web:36ce48c91ccfa066854a07",measurementId:"G-J93ZWZFLW4"}),x=a(122),N=a(240),D=a(90),I=a.n(D),A=a(105),W=a(63),B=a(106),F=a(3),M=a(23),R=a(229),U=a(214),T=a(215),G=a(211),P=a(230),z=a(216),J=a(111),H=a.n(J),V=a(112),Y=a.n(V),Z=a(113),K=a.n(Z),Q=a(171),X=a(231),$=a(232),_=a(115),ee=a.n(_),te=a(116),ae=a.n(te),ne=a(114),le=a.n(ne),re=a(79),ce=a.n(re),ie=a(213),oe=a(77),ue=a.n(oe),me=a(170),se=a(218),de=a(222),Ee=a(221),pe=a(217),fe=a(219),he=a(220),ge=a(80),ve=Object(y.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},table:{minWidth:650}}})),be=l.a.forwardRef((function(e,t){return l.a.createElement(me.a,Object.assign({direction:"up",ref:t},e))}));function Ce(e){var t=ve(),a=l.a.useState(!1),n=Object(s.a)(a,2),r=n[0],c=n[1],i=function(){c(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){c(!0)}},"User list"),l.a.createElement(ie.a,{fullScreen:!0,open:r,onClose:i,TransitionComponent:be},l.a.createElement(U.a,{className:t.appBar},l.a.createElement(T.a,null,l.a.createElement(z.a,{edge:"start",color:"inherit",onClick:i,"aria-label":"close"},l.a.createElement(ue.a,null)),l.a.createElement(C.a,{variant:"h6",className:t.title},"User list"))),l.a.createElement("div",null,l.a.createElement(pe.a,{component:ge.a},l.a.createElement(se.a,{className:t.table,"aria-label":"simple table"},l.a.createElement(fe.a,null,l.a.createElement(he.a,null,l.a.createElement(Ee.a,null,"Name"),l.a.createElement(Ee.a,null,"Email"),l.a.createElement(Ee.a,null,"ID"),l.a.createElement(Ee.a,null,"Class"))),l.a.createElement(de.a,null,e.userList&&e.userList.map((function(e){return l.a.createElement(he.a,{key:e.id},l.a.createElement(Ee.a,null,e.name),l.a.createElement(Ee.a,null,e.email),l.a.createElement(Ee.a,null,e.id),l.a.createElement(Ee.a,null,e.class))}))))))))}var ye=a(48),ke=a.n(ye),Se=a(110),Le=a.n(Se),je=a(228),Oe=a(227),qe=a(224),we=a(225),xe=a(223),Ne=a(226),De=a(107),Ie=a.n(De);function Ae(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=l.a.useState(""),c=Object(s.a)(r,2),i=c[0],o=c[1],u=l.a.useState(""),m=Object(s.a)(u,2),d=m[0],p=m[1],h=l.a.useState("Good"),g=Object(s.a)(h,2),v=g[0],b=g[1],C=l.a.useState(""),y=Object(s.a)(C,2),k=y[0],S=y[1],L=l.a.useState(""),j=Object(s.a)(L,2),O=j[0],q=j[1],x=l.a.useState(""),N=Object(s.a)(x,2),D=N[0],I=N[1],A=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){n(!0)}},l.a.createElement(Ie.a,null)),l.a.createElement(ie.a,{open:a,onClose:A,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,{id:"form-dialog-title"},"Add Equipment"),l.a.createElement(qe.a,null,l.a.createElement(we.a,null,"Fill the informations of the new equipment."),l.a.createElement(f.a,{autoFocus:!0,label:"ID",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){p(e.target.value)}}),l.a.createElement(f.a,{autoFocus:!0,label:"Name",type:"text",fullWidth:!0,margin:"normal",onChange:function(e){o(e.target.value)}}),l.a.createElement(f.a,{autoFocus:!0,label:"Location",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){S(e.target.value)}}),l.a.createElement(f.a,{select:!0,autoFocus:!0,label:"Condition",margin:"normal",value:"Good",onChange:function(e){b(e.target.value)}},l.a.createElement(Ne.a,{value:"Good"},"Good"),l.a.createElement(Ne.a,{value:"Bad"},"Bad")),l.a.createElement(f.a,{autoFocus:!0,label:"Current user",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){I(e.target.value)}}),l.a.createElement(f.a,{label:"Maintenance date ",margin:"normal",type:"date",fullWidth:!0,onChange:function(e){q(e.target.value)},InputLabelProps:{shrink:!0}})),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:A,color:"default"},"Cancel [x]"),l.a.createElement(E.a,{onClick:function(){return function(e,t,a,n,l,r){w.firestore().collection("Equipment").doc(t).set({name:e,id:t,condition:a,location:n,maintenance:l,user:r}).then((function(){return A()})).catch((function(e){return alert("Error: ",e)}))}(i,d,v,k,O,D)},color:"secondary"},"Submit"))))}var We=a(108),Be=a.n(We);function Fe(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=l.a.useState(e.equipment.name),i=Object(s.a)(c,2),o=i[0],u=i[1],m=l.a.useState(e.equipment.id),d=Object(s.a)(m,2),p=d[0],h=d[1],g=l.a.useState(e.equipment.condition),v=Object(s.a)(g,2),b=v[0],C=v[1],y=l.a.useState(e.equipment.location),k=Object(s.a)(y,2),S=k[0],L=k[1],j=l.a.useState(e.equipment.maintenance),O=Object(s.a)(j,2),q=O[0],x=O[1],N=l.a.useState(e.equipment.user),D=Object(s.a)(N,2),I=D[0],A=D[1],W=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){r(!0)}},l.a.createElement(Be.a,null)),l.a.createElement(ie.a,{open:n,onClose:W,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,{id:"form-dialog-title"},"Edit Equipment"),l.a.createElement(qe.a,null,l.a.createElement(we.a,null,"Change the informations of the equipment #".concat(p)),l.a.createElement(f.a,{autoFocus:!0,disabled:!0,label:"ID",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){h(e.target.value)},value:p}),l.a.createElement(f.a,{autoFocus:!0,label:"Name",type:"text",fullWidth:!0,margin:"normal",onChange:function(e){u(e.target.value)},value:o}),l.a.createElement(f.a,{autoFocus:!0,label:"Location",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){L(e.target.value)},value:S}),l.a.createElement(f.a,{select:!0,autoFocus:!0,label:"Condition",margin:"normal",onChange:function(e){C(e.target.value)},value:b},l.a.createElement(Ne.a,{value:"Good"},"Good"),l.a.createElement(Ne.a,{value:"Bad"},"Bad")),l.a.createElement(f.a,{autoFocus:!0,label:"Current user",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){A(e.target.value)},value:I}),l.a.createElement(f.a,{label:"Maintenance date ",margin:"normal",type:"date",fullWidth:!0,onChange:function(e){x(e.target.value)},value:q,InputLabelProps:{shrink:!0}})),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:W,color:"default"},"Cancel [x]"),l.a.createElement(E.a,{onClick:function(){return function(e,t,a,n,l,r){w.firestore().collection("Equipment").doc(t).set({name:e,id:t,condition:a,location:n,maintenance:l,user:r}).then((function(){return W()})).catch((function(e){return alert("Error: ",e)}))}(o,p,b,S,q,I)},color:"secondary"},"Submit"))))}var Me=a(109),Re=a.n(Me);function Ue(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(s.a)(c,2),o=i[0],u=i[1],m=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){r(!0)}},l.a.createElement(Re.a,null)),l.a.createElement(ie.a,{open:n,onClose:m,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,{id:"form-dialog-title"},"Report about this equipment"),l.a.createElement(qe.a,null,l.a.createElement(we.a,null,"Write new report for ".concat(e.equipmentID)),l.a.createElement(f.a,{autoFocus:!0,label:"Report",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){u(e.target.value)},multiline:!0,size:"medium"})),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:m,color:"default"},"Cancel [x]"),l.a.createElement(E.a,{onClick:function(){return function(e,t,a){var n=new Date;w.firestore().collection("Report").add({text:e,time:n,equipmentID:t,user:a.email}).then((function(){return m()})).catch((function(e){return alert("Error: ",e)}))}(o,e.equipmentID,e.you)},color:"secondary"},"Submit"))))}var Te=Object(y.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Ge=l.a.forwardRef((function(e,t){return l.a.createElement(me.a,Object.assign({direction:"up",ref:t},e))}));function Pe(e){var t=Te(),a=l.a.useState(!1),n=Object(s.a)(a,2),r=n[0],c=n[1],i=l.a.useState(""),o=Object(s.a)(i,2),u=o[0],m=o[1],d=function(){c(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){c(!0)}},"Equipment list"),l.a.createElement(ie.a,{fullScreen:!0,open:r,onClose:d,TransitionComponent:Ge},l.a.createElement(U.a,{className:t.appBar},l.a.createElement(T.a,null,l.a.createElement(z.a,{edge:"start",color:"inherit",onClick:d,"aria-label":"close"},l.a.createElement(ue.a,null)),l.a.createElement(C.a,{variant:"h6",className:t.title},"Equipment list"),e.you&&"ADMIN"===e.you.class&&l.a.createElement(Ae,null),l.a.createElement(f.a,{value:u,onChange:function(e){m(e.target.value)},InputProps:{startAdornment:l.a.createElement(je.a,{position:"start"},l.a.createElement(Le.a,null))}}))),l.a.createElement(pe.a,{component:ge.a},l.a.createElement(se.a,{className:t.table,stickyHeader:!0,"aria-label":"simple table"},l.a.createElement(fe.a,null,l.a.createElement(he.a,null,l.a.createElement(Ee.a,null,"Name"),l.a.createElement(Ee.a,null,"ID"),l.a.createElement(Ee.a,null,"User(ID)"),l.a.createElement(Ee.a,null,"Location"),l.a.createElement(Ee.a,null,"Condition"),l.a.createElement(Ee.a,null,"Maintenance"),l.a.createElement(Ee.a,null,"Actions"))),l.a.createElement(de.a,null,e.equipmentList&&e.equipmentList.filter((function(e){return e.id.includes(u.toLowerCase())||e.name.includes(u.toLowerCase())||e.location.includes(u.toLowerCase())||e.user.includes(u.toLowerCase())})).map((function(t){return l.a.createElement(he.a,{key:t.id},l.a.createElement(Ee.a,null,t.name),l.a.createElement(Ee.a,null,t.id),l.a.createElement(Ee.a,null,t.user),l.a.createElement(Ee.a,null,t.location),l.a.createElement(Ee.a,null,t.condition),l.a.createElement(Ee.a,null,t.maintenance),l.a.createElement(Ee.a,null,"ADMIN"===e.you.class&&l.a.createElement(Fe,{equipment:t}),"ADMIN"===e.you.class&&l.a.createElement(ke.a,{onClick:function(){return e=t.id,void w.firestore().collection("Equipment").doc(e).delete().then((function(){return alert("Deleted Equipment #".concat(e))})).catch((function(e){alert("ERROR: ",e)}));var e}}),l.a.createElement(Ue,{equipmentID:t.id,you:e.you})))})))))))}function ze(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{color:"default",onClick:function(){n(!0)}},"Add User"),l.a.createElement(ie.a,{open:a,onClose:r,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,{id:"form-dialog-title"},"Add user"),l.a.createElement(qe.a,null,l.a.createElement(we.a,null,"Fill the informations of the new user."),l.a.createElement(f.a,{autoFocus:!0,label:"Email Address",type:"email",fullWidth:!0}),l.a.createElement(f.a,{autoFocus:!0,label:"Password",type:"text",fullWidth:!0}),l.a.createElement(f.a,{autoFocus:!0,label:"Class",type:"text",fullWidth:!0})),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:r,color:"default"},"Cancel [x]"),l.a.createElement(E.a,{onClick:r,color:"secondary"},"Submit"))))}var Je=a(233),He=a(244),Ve=a(117),Ye=a.n(Ve),Ze=a(118),Ke=a.n(Ze),Qe=Object(y.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(225,"px)"),marginLeft:225,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:225,flexShrink:0},drawerPaper:{width:225},drawerHeader:Object(B.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-225},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function Xe(e){var t=Qe(),a=Object(M.a)(),n=l.a.useState(!1),r=Object(s.a)(n,2),c=r[0],i=r[1];return l.a.createElement("div",{className:t.root},l.a.createElement(p.a,null),l.a.createElement(U.a,{position:"fixed",className:Object(F.a)(t.appBar,Object(W.a)({},t.appBarShift,c))},l.a.createElement(T.a,null,l.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(F.a)(t.menuButton,c&&t.hide)},l.a.createElement(H.a,null)),l.a.createElement(C.a,{variant:"h6",noWrap:!0},"Equipment Management Tool"))),l.a.createElement(R.a,{className:t.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:t.drawerPaper}},l.a.createElement("div",{className:t.drawerHeader},l.a.createElement(z.a,{onClick:function(){i(!1)}},"ltr"===a.direction?l.a.createElement(Y.a,null):l.a.createElement(K.a,null))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(le.a,null)),l.a.createElement($.a,null,l.a.createElement(Pe,null)))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(ee.a,null)),l.a.createElement($.a,null,l.a.createElement(Ce,{userList:e.userList})))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(ce.a,null)),l.a.createElement($.a,{primary:"Notifications"})),l.a.createElement(P.a,null),l.a.createElement(Q.a,{button:!0,onClick:function(){return w.auth().signOut()}},l.a.createElement(X.a,null,l.a.createElement(ae.a,null)),l.a.createElement($.a,{primary:"Sign Out"}))),l.a.createElement(P.a,null),l.a.createElement("div",{className:"switch"},l.a.createElement(Je.a,{control:l.a.createElement(He.a,{checked:e.dark,onChange:e.handleDarkMode}),label:e.dark?l.a.createElement(Ye.a,{my:0}):l.a.createElement(Ke.a,{my:0})}))),l.a.createElement("main",{className:Object(F.a)(t.content,Object(W.a)({},t.contentShift,c))},l.a.createElement("div",{className:t.drawerHeader})))}var $e=a(234),_e=a(236),et=a(235),tt=a(119),at=a.n(tt),nt=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"tomato"},icon:{fontSize:100,verticalAlign:"sub"}});function lt(e){var t=nt();return l.a.createElement($e.a,{className:t.root},l.a.createElement(et.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(at.a,{className:t.icon}),"Users: ".concat(e.userList.length))),l.a.createElement(P.a,null),l.a.createElement(_e.a,null,l.a.createElement(Ce,{userList:e.userList}),"ADMIN"===e.you.class&&l.a.createElement(ze,null)))}var rt=a(120),ct=a.n(rt),it=Object(y.a)({root:{color:"white",backgroundColor:"mediumaquamarine",textAlign:"center"},icon:{fontSize:100,verticalAlign:"sub"}});function ot(e){var t=it();return l.a.createElement($e.a,{className:t.root},l.a.createElement(et.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(ct.a,{className:t.icon})," Equipments: ".concat(e.equipmentList&&e.equipmentList.length))),l.a.createElement(P.a,null),l.a.createElement(_e.a,null,l.a.createElement(Pe,{equipmentList:e.equipmentList,you:e.you}),"ADMIN"===e.you.class&&l.a.createElement(Ae,null)))}var ut=a(238),mt=a(237);function st(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=function(){r(!1)},i=l.a.useState(e.equipmentList.filter((function(e){return"bad"===e.condition.toLowerCase()||new Date(e.maintenance).getTime()<(new Date).getTime()}))),o=Object(s.a)(i,2),u=o[0],m=o[1];return l.a.createElement("div",null,l.a.createElement(E.a,{onClick:function(){r(!0)}},"Show"),l.a.createElement(ie.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,null,"Notifications"),l.a.createElement(P.a,null),l.a.createElement(qe.a,null,l.a.createElement(C.a,{variant:"h5"},"Maintenance"),l.a.createElement(G.a,null,e.equipmentList&&u.map((function(e){return l.a.createElement(Q.a,{key:e.id},l.a.createElement(E.a,{onClick:function(){return t=e.id,void m(u.filter((function(e){return e.id!==t})));var t}},l.a.createElement(ke.a,null)),l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6"},"Equipment #".concat(e.id," needs maintenace:")),l.a.createElement(C.a,{variant:"subtitle1"},"Condition - ".concat(e.condition," | Maintenance date - ").concat(e.maintenance)),l.a.createElement(P.a,null)))})))),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:function(){m([])},color:"secondary"},"Clear All"),l.a.createElement(E.a,{onClick:c,color:"default"},"Close"))))}var dt=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"#FFD700"},icon:{fontSize:100,verticalAlign:"sub"}});function Et(e){var t=dt();return l.a.createElement($e.a,{className:t.root},l.a.createElement(et.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(ce.a,{className:t.icon}),l.a.createElement(mt.a,{badgeContent:function(e){var t=new Date,a=e.filter((function(e){return"bad"===e.condition.toLowerCase()||new Date(e.maintenance).getTime()<t.getTime()}));return console.log(a),a.length}(e.equipmentList),color:"secondary"}," Notifications"))),l.a.createElement(P.a,null),l.a.createElement(_e.a,null,l.a.createElement(st,{equipmentList:e.equipmentList})))}var pt=a(121),ft=a.n(pt);function ht(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(E.a,{onClick:function(){r(!0)}},"Show"),l.a.createElement(ie.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title"},l.a.createElement(xe.a,null,"Reports"),l.a.createElement(qe.a,null,l.a.createElement(G.a,null,e.reportList&&e.reportList.map((function(e){return l.a.createElement(Q.a,{key:e.time},l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6",gutterBottom:!0},"Report about #".concat(e.equipmentID,":")),l.a.createElement(C.a,{variant:"caption",gutterBottom:!0},l.a.createElement("em",null,"By ".concat(e.user))),l.a.createElement(C.a,{variant:"caption",gutterBottom:!0},l.a.createElement("em",null," at ".concat((t=e.time,new Date(1e3*t.seconds))))),l.a.createElement(C.a,{variant:"body1",gutterBottom:!0},"".concat(e.text)),l.a.createElement(P.a,null)),l.a.createElement(E.a,{onClick:function(){return t=e.time,void w.firestore().collection("Report").where("time","==",t).get().then((function(e){e.forEach((function(e){w.firestore().collection("Report").doc(e.id).delete().catch((function(e){alert("ERROR: ",e)}))}))}));var t}},l.a.createElement(ke.a,null)));var t})))),l.a.createElement(Oe.a,null,l.a.createElement(E.a,{onClick:c,color:"default"},"Close"))))}var gt=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"#9852f9"},icon:{fontSize:100,verticalAlign:"sub"}});function vt(e){var t=gt();return l.a.createElement($e.a,{className:t.root},l.a.createElement(et.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(ft.a,{className:t.icon}),l.a.createElement(mt.a,{badgeContent:e.reportList&&e.reportList.length,color:"secondary"}," Reports"))),l.a.createElement(P.a,null),l.a.createElement(_e.a,null,l.a.createElement(ht,{reportList:e.reportList})))}var bt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).showAddUserDialog=function(){e.setState((function(e){return{addingUser:!e.addingUser}}))},e.showAddEquipmentDialog=function(){e.setState((function(e){return{addingEquipment:!e.addingEquipment}}))},e.addUser=function(){},e.addEquipment=function(){},e.state={addingUser:!1,addingEquipment:!1},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"uInfo"},this.props.you&&l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6"},"Your Account: ".concat(this.props.you.email," - ").concat(this.props.you.class)),l.a.createElement(P.a,null))),l.a.createElement("div",{className:"db"},l.a.createElement(C.a,{variant:"h4"},"Dashboard"),l.a.createElement(P.a,null),l.a.createElement("div",{className:"dbcontent"},l.a.createElement(ut.a,{container:!0,spacing:3},l.a.createElement(ut.a,{item:!0,xs:12,sm:6,lg:3},l.a.createElement(Et,{equipmentList:this.props.equipmentList})),"ADMIN"===this.props.you.class&&l.a.createElement(ut.a,{item:!0,xs:12,sm:6,md:4,lg:2},l.a.createElement(vt,{reportList:this.props.reportList})),l.a.createElement(ut.a,{item:!0,xs:12,sm:6,md:4,lg:2},l.a.createElement(lt,{userList:this.props.userList,you:this.props.you})),l.a.createElement(ut.a,{item:!0,xs:12,sm:6,lg:3},l.a.createElement(ot,{equipmentList:this.props.equipmentList,you:this.props.you}))))))}}]),a}(n.Component),Ct=a(239),yt=Object(y.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function kt(){var e=yt();return l.a.createElement("div",{className:e.root},l.a.createElement(Ct.a,null))}var St=w.firestore(),Lt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={content:"dashboard",you:null,userList:null,equipmentList:null,reportList:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=Object(A.a)(I.a.mark((function e(){var t,a,n,l,r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],n=[],l=null,e.next=6,St.collection("Users").doc(this.props.user.uid).get().then((function(e){l=e.data(),r.setState({you:l})}));case 6:return e.next=8,St.collection("Users").onSnapshot((function(e){t=[],e.docs.map((function(e){return t.push(e.data()),e.data})),r.setState({userList:t})}));case 8:return e.next=10,St.collection("Equipment").onSnapshot((function(e){a=[],e.forEach((function(e){a.push(e.data())})),r.setState({equipmentList:a})}));case 10:return e.next=12,St.collection("Report").onSnapshot((function(e){n=[],e.docs.map((function(e){return n.push(e.data()),e.data})),r.setState({reportList:n})}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.equipmentList?l.a.createElement("div",null,l.a.createElement(Xe,{you:this.state.you,userList:this.state.userList,equipmentList:this.state.equipmentList,dark:this.props.dark,handleDarkMode:this.props.handleDarkMode}),l.a.createElement("div",{className:"content"},l.a.createElement(bt,{you:this.state.you,userList:this.state.userList,equipmentList:this.state.equipmentList,reportList:this.state.reportList}))):l.a.createElement("div",null,l.a.createElement(kt,null))}}]),a}(l.a.Component),jt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).SignIn=function(e,t){w.auth().signInWithEmailAndPassword(e,t).catch((function(e){alert(e.message)}))},e.handleDarkMode=function(){e.setState((function(e){return{dark:!e.dark}}))},e.state={user:null,dark:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;w.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){var e=Object(x.a)({palette:{type:this.state.dark?"dark":"light"}});return l.a.createElement(N.a,{theme:e},this.state.user?l.a.createElement(Lt,{user:this.state.user,dark:this.state.dark,handleDarkMode:this.handleDarkMode}):l.a.createElement(j,{SignIn:this.SignIn}))}}]),a}(l.a.Component);c.a.render(l.a.createElement(jt,null),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.f6973a0a.chunk.js.map