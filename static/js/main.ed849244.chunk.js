(this["webpackJsonpproject-i"]=this["webpackJsonpproject-i"]||[]).push([[0],{147:function(e,t,a){e.exports=a(170)},152:function(e,t,a){},153:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),c=a.n(r),i=(a(152),a(45)),o=a(46),u=a(51),m=a(49),s=(a(153),a(9)),E=a(243),d=a(212),p=a(210),f=a(241),h=a(207),g=a(242),b=a(103),v=a.n(b),C=a(30),y=a(208),k=a(209);function S(){return l.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(h.a,{color:"inherit",href:""},"Duong Dep Trai")," ",(new Date).getFullYear(),".")}var L=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function j(e){var t=L(),a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],h=u[1];return l.a.createElement(k.a,{component:"main",maxWidth:"xs"},l.a.createElement(p.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(E.a,{className:t.avatar},l.a.createElement(v.a,null)),l.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,noValidate:!0},l.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:c,onChange:function(e){i(e.target.value)}}),l.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m,onChange:function(e){h(e.target.value)}}),l.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return e.SignIn(c,m)}},"Sign In"))),l.a.createElement(g.a,{mt:8},l.a.createElement(S,null)))}var O=a(104),q=a.n(O);a(168);var w=q.a.initializeApp({apiKey:"AIzaSyC2CV-Jx-kV4z99iu7GyyPSO58JdgyEsck",authDomain:"project-i-d1f64.firebaseapp.com",databaseURL:"https://project-i-d1f64.firebaseio.com",projectId:"project-i-d1f64",storageBucket:"project-i-d1f64.appspot.com",messagingSenderId:"1027131702150",appId:"1:1027131702150:web:36ce48c91ccfa066854a07",measurementId:"G-J93ZWZFLW4"}),x=a(124),N=a(240),D=a(90),I=a.n(D),W=a(105),A=a(63),B=a(106),F=a(3),R=a(23),M=a(229),U=a(214),T=a(215),G=a(211),P=a(230),z=a(216),J=a(111),H=a.n(J),V=a(112),Y=a.n(V),Z=a(113),K=a.n(Z),Q=a(173),X=a(231),$=a(232),_=a(116),ee=a.n(_),te=a(117),ae=a.n(te),ne=a(118),le=a.n(ne),re=a(114),ce=a.n(re),ie=a(115),oe=a.n(ie),ue=a(79),me=a.n(ue),se=a(213),Ee=a(77),de=a.n(Ee),pe=a(172),fe=a(218),he=a(222),ge=a(221),be=a(217),ve=a(219),Ce=a(220),ye=a(80),ke=Object(y.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},table:{minWidth:650}}})),Se=l.a.forwardRef((function(e,t){return l.a.createElement(pe.a,Object.assign({direction:"up",ref:t},e))}));function Le(e){var t=ke(),a=l.a.useState(!1),n=Object(s.a)(a,2),r=n[0],c=n[1],i=function(){c(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){c(!0)}},"User list"),l.a.createElement(se.a,{fullScreen:!0,open:r,onClose:i,TransitionComponent:Se},l.a.createElement(U.a,{className:t.appBar},l.a.createElement(T.a,null,l.a.createElement(z.a,{edge:"start",color:"inherit",onClick:i,"aria-label":"close"},l.a.createElement(de.a,null)),l.a.createElement(C.a,{variant:"h6",className:t.title},"User list"))),l.a.createElement("div",null,l.a.createElement(be.a,{component:ye.a},l.a.createElement(fe.a,{className:t.table,"aria-label":"simple table"},l.a.createElement(ve.a,null,l.a.createElement(Ce.a,null,l.a.createElement(ge.a,null,"Name"),l.a.createElement(ge.a,null,"Email"),l.a.createElement(ge.a,null,"ID"),l.a.createElement(ge.a,null,"Class"))),l.a.createElement(he.a,null,e.userList&&e.userList.map((function(e){return l.a.createElement(Ce.a,{key:e.id},l.a.createElement(ge.a,null,e.name),l.a.createElement(ge.a,null,e.email),l.a.createElement(ge.a,null,e.id),l.a.createElement(ge.a,null,e.class))}))))))))}var je=a(48),Oe=a.n(je),qe=a(110),we=a.n(qe),xe=a(228),Ne=a(227),De=a(224),Ie=a(225),We=a(223),Ae=a(226),Be=a(107),Fe=a.n(Be);function Re(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=l.a.useState(""),c=Object(s.a)(r,2),i=c[0],o=c[1],u=l.a.useState(""),m=Object(s.a)(u,2),E=m[0],p=m[1],h=l.a.useState("Good"),g=Object(s.a)(h,2),b=g[0],v=g[1],C=l.a.useState(""),y=Object(s.a)(C,2),k=y[0],S=y[1],L=l.a.useState(""),j=Object(s.a)(L,2),O=j[0],q=j[1],x=l.a.useState(""),N=Object(s.a)(x,2),D=N[0],I=N[1],W=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){n(!0)}},l.a.createElement(Fe.a,null)),l.a.createElement(se.a,{open:a,onClose:W,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,{id:"form-dialog-title"},"Add Equipment"),l.a.createElement(De.a,null,l.a.createElement(Ie.a,null,"Fill the informations of the new equipment."),l.a.createElement(f.a,{autoFocus:!0,label:"ID",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){p(e.target.value)}}),l.a.createElement(f.a,{autoFocus:!0,label:"Name",type:"text",fullWidth:!0,margin:"normal",onChange:function(e){o(e.target.value)}}),l.a.createElement(f.a,{autoFocus:!0,label:"Location",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){S(e.target.value)}}),l.a.createElement(f.a,{select:!0,autoFocus:!0,label:"Condition",margin:"normal",value:"Good",onChange:function(e){v(e.target.value)}},l.a.createElement(Ae.a,{value:"Good"},"Good"),l.a.createElement(Ae.a,{value:"Bad"},"Bad")),l.a.createElement(f.a,{autoFocus:!0,label:"Current user",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){I(e.target.value)}}),l.a.createElement(f.a,{label:"Maintenance date ",margin:"normal",type:"date",fullWidth:!0,onChange:function(e){q(e.target.value)},InputLabelProps:{shrink:!0}})),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:W,color:"default"},"Cancel [x]"),l.a.createElement(d.a,{onClick:function(){return function(e,t,a,n,l,r){w.firestore().collection("Equipment").doc(t).set({name:e,id:t,condition:a,location:n,maintenance:l,user:r}).then((function(){return W()})).catch((function(e){return alert("Error: ",e)}))}(i,E,b,k,O,D)},color:"secondary"},"Submit"))))}var Me=a(108),Ue=a.n(Me);function Te(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=l.a.useState(e.equipment.name),i=Object(s.a)(c,2),o=i[0],u=i[1],m=l.a.useState(e.equipment.id),E=Object(s.a)(m,2),p=E[0],h=E[1],g=l.a.useState(e.equipment.condition),b=Object(s.a)(g,2),v=b[0],C=b[1],y=l.a.useState(e.equipment.location),k=Object(s.a)(y,2),S=k[0],L=k[1],j=l.a.useState(e.equipment.maintenance),O=Object(s.a)(j,2),q=O[0],x=O[1],N=l.a.useState(e.equipment.user),D=Object(s.a)(N,2),I=D[0],W=D[1],A=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){r(!0)}},l.a.createElement(Ue.a,null)),l.a.createElement(se.a,{open:n,onClose:A,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,{id:"form-dialog-title"},"Edit Equipment"),l.a.createElement(De.a,null,l.a.createElement(Ie.a,null,"Change the informations of the equipment #".concat(p)),l.a.createElement(f.a,{autoFocus:!0,disabled:!0,label:"ID",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){h(e.target.value)},value:p}),l.a.createElement(f.a,{autoFocus:!0,label:"Name",type:"text",fullWidth:!0,margin:"normal",onChange:function(e){u(e.target.value)},value:o}),l.a.createElement(f.a,{autoFocus:!0,label:"Location",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){L(e.target.value)},value:S}),l.a.createElement(f.a,{select:!0,autoFocus:!0,label:"Condition",margin:"normal",onChange:function(e){C(e.target.value)},value:v},l.a.createElement(Ae.a,{value:"Good"},"Good"),l.a.createElement(Ae.a,{value:"Bad"},"Bad")),l.a.createElement(f.a,{autoFocus:!0,label:"Current user",margin:"normal",type:"text",fullWidth:!0,onChange:function(e){W(e.target.value)},value:I}),l.a.createElement(f.a,{label:"Maintenance date ",margin:"normal",type:"date",fullWidth:!0,onChange:function(e){x(e.target.value)},value:q,InputLabelProps:{shrink:!0}})),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:A,color:"default"},"Cancel [x]"),l.a.createElement(d.a,{onClick:function(){return function(e,t,a,n,l,r){w.firestore().collection("Equipment").doc(t).set({name:e,id:t,condition:a,location:n,maintenance:l,user:r}).then((function(){return A()})).catch((function(e){return alert("Error: ",e)}))}(o,p,v,S,q,I)},color:"secondary"},"Submit"))))}var Ge=a(109),Pe=a.n(Ge);function ze(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(s.a)(c,2),o=i[0],u=i[1],m=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){r(!0)}},l.a.createElement(Pe.a,null)),l.a.createElement(se.a,{open:n,onClose:m,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,{id:"form-dialog-title"},"Report about this equipment"),l.a.createElement(De.a,null,l.a.createElement(Ie.a,null,"Write new report for ".concat(e.equipmentID)),l.a.createElement(f.a,{autoFocus:!0,label:"Report",type:"text",margin:"normal",fullWidth:!0,onChange:function(e){u(e.target.value)},multiline:!0,size:"medium"})),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:m,color:"default"},"Cancel [x]"),l.a.createElement(d.a,{onClick:function(){return function(e,t,a){var n=new Date;w.firestore().collection("Report").add({text:e,time:n,equipmentID:t,user:a.email}).then((function(){return m()})).catch((function(e){return alert("Error: ",e)}))}(o,e.equipmentID,e.you)},color:"secondary"},"Submit"))))}var Je=Object(y.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),He=l.a.forwardRef((function(e,t){return l.a.createElement(pe.a,Object.assign({direction:"up",ref:t},e))}));function Ve(e){var t=Je(),a=l.a.useState(!1),n=Object(s.a)(a,2),r=n[0],c=n[1],i=l.a.useState(""),o=Object(s.a)(i,2),u=o[0],m=o[1],E=function(){c(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){c(!0)}},"Equipment list"),l.a.createElement(se.a,{fullScreen:!0,open:r,onClose:E,TransitionComponent:He},l.a.createElement(U.a,{className:t.appBar},l.a.createElement(T.a,null,l.a.createElement(z.a,{edge:"start",color:"inherit",onClick:E,"aria-label":"close"},l.a.createElement(de.a,null)),l.a.createElement(C.a,{variant:"h6",className:t.title},"Equipment list"),l.a.createElement(Re,null),l.a.createElement(f.a,{value:u,onChange:function(e){m(e.target.value)},InputProps:{startAdornment:l.a.createElement(xe.a,{position:"start"},l.a.createElement(we.a,null))}}))),l.a.createElement(be.a,{component:ye.a},l.a.createElement(fe.a,{className:t.table,stickyHeader:!0,"aria-label":"simple table"},l.a.createElement(ve.a,null,l.a.createElement(Ce.a,null,l.a.createElement(ge.a,null,"Name"),l.a.createElement(ge.a,null,"ID"),l.a.createElement(ge.a,null,"User(ID)"),l.a.createElement(ge.a,null,"Location"),l.a.createElement(ge.a,null,"Condition"),l.a.createElement(ge.a,null,"Maintenance"),l.a.createElement(ge.a,null,"Actions"))),l.a.createElement(he.a,null,e.equipmentList&&e.equipmentList.filter((function(e){return e.id.includes(u.toLowerCase())||e.name.includes(u.toLowerCase())||e.location.includes(u.toLowerCase())||e.user.includes(u.toLowerCase())})).map((function(t){return l.a.createElement(Ce.a,{key:t.id},l.a.createElement(ge.a,null,t.name),l.a.createElement(ge.a,null,t.id),l.a.createElement(ge.a,null,t.user),l.a.createElement(ge.a,null,t.location),l.a.createElement(ge.a,null,t.condition),l.a.createElement(ge.a,null,t.maintenance),l.a.createElement(ge.a,null,l.a.createElement(d.a,null,l.a.createElement(Te,{equipment:t})),l.a.createElement(d.a,{onClick:function(){return e=t.id,void w.firestore().collection("Equipment").doc(e).delete().then((function(){return alert("Deleted Equipment #".concat(e))})).catch((function(e){alert("ERROR: ",e)}));var e}},l.a.createElement(Oe.a,null)),l.a.createElement(d.a,null,l.a.createElement(ze,{equipmentID:t.id,you:e.you}))))})))))))}function Ye(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{color:"default",onClick:function(){n(!0)}},"Add User"),l.a.createElement(se.a,{open:a,onClose:r,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,{id:"form-dialog-title"},"Add user"),l.a.createElement(De.a,null,l.a.createElement(Ie.a,null,"Fill the informations of the new user."),l.a.createElement(f.a,{autoFocus:!0,label:"Email Address",type:"email",fullWidth:!0}),l.a.createElement(f.a,{autoFocus:!0,label:"Password",type:"text",fullWidth:!0}),l.a.createElement(f.a,{autoFocus:!0,label:"Class",type:"text",fullWidth:!0})),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:r,color:"default"},"Cancel [x]"),l.a.createElement(d.a,{onClick:r,color:"secondary"},"Submit"))))}var Ze=a(233),Ke=a(244),Qe=a(119),Xe=a.n(Qe),$e=a(120),_e=a.n($e),et=Object(y.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(225,"px)"),marginLeft:225,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:225,flexShrink:0},drawerPaper:{width:225},drawerHeader:Object(B.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-225},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function tt(e){var t=et(),a=Object(R.a)(),n=l.a.useState(!1),r=Object(s.a)(n,2),c=r[0],i=r[1];return l.a.createElement("div",{className:t.root},l.a.createElement(p.a,null),l.a.createElement(U.a,{position:"fixed",className:Object(F.a)(t.appBar,Object(A.a)({},t.appBarShift,c))},l.a.createElement(T.a,null,l.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(F.a)(t.menuButton,c&&t.hide)},l.a.createElement(H.a,null)),l.a.createElement(C.a,{variant:"h6",noWrap:!0},"Equipment Management Tool"))),l.a.createElement(M.a,{className:t.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:t.drawerPaper}},l.a.createElement("div",{className:t.drawerHeader},l.a.createElement(z.a,{onClick:function(){i(!1)}},"ltr"===a.direction?l.a.createElement(Y.a,null):l.a.createElement(K.a,null))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(ce.a,null)),l.a.createElement($.a,null,l.a.createElement(Ve,null))),l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(oe.a,null)),l.a.createElement($.a,null,l.a.createElement(Re,null)))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(ee.a,null)),l.a.createElement($.a,null,l.a.createElement(Le,{userList:e.userList}))),l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(ae.a,null)),l.a.createElement($.a,null,l.a.createElement(Ye,null)))),l.a.createElement(P.a,null),l.a.createElement(G.a,null,l.a.createElement(Q.a,{button:!0},l.a.createElement(X.a,null,l.a.createElement(me.a,null)),l.a.createElement($.a,{primary:"Notifications"})),l.a.createElement(Q.a,{button:!0,onClick:function(){return w.auth().signOut()}},l.a.createElement(X.a,null,l.a.createElement(le.a,null)),l.a.createElement($.a,{primary:"Sign Out"}))),l.a.createElement(P.a,null),l.a.createElement("div",{className:"switch"},l.a.createElement(Ze.a,{control:l.a.createElement(Ke.a,{checked:e.dark,onChange:e.handleDarkMode}),label:e.dark?l.a.createElement(Xe.a,{my:0}):l.a.createElement(_e.a,{my:0})}))),l.a.createElement("main",{className:Object(F.a)(t.content,Object(A.a)({},t.contentShift,c))},l.a.createElement("div",{className:t.drawerHeader})))}var at=a(234),nt=a(236),lt=a(235),rt=a(121),ct=a.n(rt),it=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"tomato"},icon:{fontSize:100,verticalAlign:"sub"}});function ot(e){var t=it();return l.a.createElement(at.a,{className:t.root},l.a.createElement(lt.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(ct.a,{className:t.icon}),"Users: ".concat(e.userList.length))),l.a.createElement(P.a,null),l.a.createElement(nt.a,null,l.a.createElement(Le,{userList:e.userList}),l.a.createElement(Ye,null)))}var ut=a(122),mt=a.n(ut),st=Object(y.a)({root:{color:"white",backgroundColor:"mediumaquamarine",textAlign:"center"},icon:{fontSize:100,verticalAlign:"sub"}});function Et(e){var t=st();return l.a.createElement(at.a,{className:t.root},l.a.createElement(lt.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(mt.a,{className:t.icon})," Equipments: ".concat(e.equipmentList&&e.equipmentList.length))),l.a.createElement(P.a,null),l.a.createElement(nt.a,null,l.a.createElement(Ve,{equipmentList:e.equipmentList,you:e.you}),l.a.createElement(Re,null)))}var dt=a(238),pt=a(237);function ft(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=function(){r(!1)},i=l.a.useState(e.equipmentList.filter((function(e){return"bad"===e.condition.toLowerCase()||new Date(e.maintenance).getTime()<(new Date).getTime()}))),o=Object(s.a)(i,2),u=o[0],m=o[1];return l.a.createElement("div",null,l.a.createElement(d.a,{onClick:function(){r(!0)}},"Show"),l.a.createElement(se.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,null,"Notifications"),l.a.createElement(P.a,null),l.a.createElement(De.a,null,l.a.createElement(C.a,{variant:"h5"},"Maintenance"),l.a.createElement(G.a,null,e.equipmentList&&u.map((function(e){return l.a.createElement(Q.a,{key:e.id},l.a.createElement(d.a,{onClick:function(){return t=e.id,void m(u.filter((function(e){return e.id!==t})));var t}},l.a.createElement(Oe.a,null)),l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6"},"Equipment #".concat(e.id," needs maintenace:")),l.a.createElement(C.a,{variant:"subtitle1"},"Condition - ".concat(e.condition," | Maintenance date - ").concat(e.maintenance)),l.a.createElement(P.a,null)))})))),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:function(){m([])},color:"secondary"},"Clear All"),l.a.createElement(d.a,{onClick:c,color:"default"},"Close"))))}var ht=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"#FFD700"},icon:{fontSize:100,verticalAlign:"sub"}});function gt(e){var t=ht();return l.a.createElement(at.a,{className:t.root},l.a.createElement(lt.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(me.a,{className:t.icon}),l.a.createElement(pt.a,{badgeContent:function(e){var t=new Date,a=e.filter((function(e){return"bad"===e.condition.toLowerCase()||new Date(e.maintenance).getTime()<t.getTime()}));return console.log(a),a.length}(e.equipmentList),color:"secondary"}," Notifications"))),l.a.createElement(P.a,null),l.a.createElement(nt.a,null,l.a.createElement(ft,{equipmentList:e.equipmentList})))}var bt=a(123),vt=a.n(bt);function Ct(e){var t=l.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=function(){r(!1)};return l.a.createElement("div",null,l.a.createElement(d.a,{onClick:function(){r(!0)}},"Show"),l.a.createElement(se.a,{open:n,onClose:c,"aria-labelledby":"form-dialog-title"},l.a.createElement(We.a,null,"Reports"),l.a.createElement(De.a,null,l.a.createElement(G.a,null,e.reportList&&e.reportList.map((function(e){return l.a.createElement(Q.a,{key:e.time},l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6",gutterBottom:!0},"Report about #".concat(e.equipmentID,":")),l.a.createElement(C.a,{variant:"caption",gutterBottom:!0},l.a.createElement("em",null,"By ".concat(e.user))),l.a.createElement(C.a,{variant:"caption",gutterBottom:!0},l.a.createElement("em",null," at ".concat((t=e.time,new Date(1e3*t.seconds))))),l.a.createElement(C.a,{variant:"body1",gutterBottom:!0},"".concat(e.text)),l.a.createElement(P.a,null)),l.a.createElement(d.a,{onClick:function(){return t=e.time,void w.firestore().collection("Report").where("time","==",t).get().then((function(e){e.forEach((function(e){w.firestore().collection("Report").doc(e.id).delete().catch((function(e){alert("ERROR: ",e)}))}))}));var t}},l.a.createElement(Oe.a,null)));var t})))),l.a.createElement(Ne.a,null,l.a.createElement(d.a,{onClick:c,color:"default"},"Close"))))}var yt=Object(y.a)({root:{color:"white",textAlign:"center",backgroundColor:"#9852f9"},icon:{fontSize:100,verticalAlign:"sub"}});function kt(e){var t=yt();return l.a.createElement(at.a,{className:t.root},l.a.createElement(lt.a,null,l.a.createElement(C.a,{variant:"h3"},l.a.createElement(vt.a,{className:t.icon}),l.a.createElement(pt.a,{badgeContent:e.reportList&&e.reportList.length,color:"secondary"}," Reports"))),l.a.createElement(P.a,null),l.a.createElement(nt.a,null,l.a.createElement(Ct,{reportList:e.reportList})))}var St=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).showAddUserDialog=function(){e.setState((function(e){return{addingUser:!e.addingUser}}))},e.showAddEquipmentDialog=function(){e.setState((function(e){return{addingEquipment:!e.addingEquipment}}))},e.addUser=function(){},e.addEquipment=function(){},e.state={addingUser:!1,addingEquipment:!1},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"uInfo"},this.props.you&&l.a.createElement("div",null,l.a.createElement(C.a,{variant:"h6"},"Your Account: ".concat(this.props.you.email," - ").concat(this.props.you.class)),l.a.createElement(P.a,null))),l.a.createElement("div",{className:"db"},l.a.createElement(C.a,{variant:"h4"},"Dashboard"),l.a.createElement(P.a,null),l.a.createElement("div",{className:"dbcontent"},l.a.createElement(dt.a,{container:!0,spacing:3},l.a.createElement(dt.a,{item:!0,xs:12,sm:6,lg:3},l.a.createElement(gt,{equipmentList:this.props.equipmentList})),l.a.createElement(dt.a,{item:!0,xs:12,sm:6,md:4,lg:2},l.a.createElement(kt,{reportList:this.props.reportList})),l.a.createElement(dt.a,{item:!0,xs:12,sm:6,md:4,lg:2},l.a.createElement(ot,{userList:this.props.userList})),l.a.createElement(dt.a,{item:!0,xs:12,sm:6,lg:3},l.a.createElement(Et,{equipmentList:this.props.equipmentList,you:this.props.you}))))))}}]),a}(n.Component),Lt=a(239),jt=Object(y.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function Ot(){var e=jt();return l.a.createElement("div",{className:e.root},l.a.createElement(Lt.a,null))}var qt=w.firestore(),wt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={content:"dashboard",you:null,userList:null,equipmentList:null,reportList:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=Object(W.a)(I.a.mark((function e(){var t,a,n,l,r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],n=[],l=null,e.next=6,qt.collection("Users").doc(this.props.user.uid).get().then((function(e){l=e.data(),r.setState({you:l})}));case 6:return e.next=8,qt.collection("Users").onSnapshot((function(e){t=[],e.docs.map((function(e){return t.push(e.data()),e.data})),r.setState({userList:t})}));case 8:return e.next=10,qt.collection("Equipment").onSnapshot((function(e){a=[],e.forEach((function(e){a.push(e.data())})),r.setState({equipmentList:a})}));case 10:return e.next=12,qt.collection("Report").onSnapshot((function(e){n=[],e.docs.map((function(e){return n.push(e.data()),e.data})),r.setState({reportList:n})}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.equipmentList?l.a.createElement("div",null,l.a.createElement(tt,{userList:this.state.userList,equipmentList:this.state.equipmentList,dark:this.props.dark,handleDarkMode:this.props.handleDarkMode}),l.a.createElement("div",{className:"content"},l.a.createElement(St,{you:this.state.you,userList:this.state.userList,equipmentList:this.state.equipmentList,reportList:this.state.reportList}))):l.a.createElement("div",null,l.a.createElement(Ot,null))}}]),a}(l.a.Component),xt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).SignIn=function(e,t){w.auth().signInWithEmailAndPassword(e,t).catch((function(e){alert(e.message)}))},e.handleDarkMode=function(){e.setState((function(e){return{dark:!e.dark}}))},e.state={user:null,dark:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;w.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){var e=Object(x.a)({palette:{type:this.state.dark?"dark":"light"}});return l.a.createElement(N.a,{theme:e},this.state.user?l.a.createElement(wt,{user:this.state.user,dark:this.state.dark,handleDarkMode:this.handleDarkMode}):l.a.createElement(j,{SignIn:this.SignIn}))}}]),a}(l.a.Component);c.a.render(l.a.createElement(xt,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.ed849244.chunk.js.map